(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"5c53":function(t,n,i){"use strict";var a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{attrs:{id:"chat-panel"}},[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("智能导诊")])],2),i("v-uni-view",{staticClass:"cu-chat"},[t._l(t.chatInfos,function(n,a){return["info"!==n.direction?i("v-uni-view",{key:a,staticClass:"cu-item",class:(e={},e[n.direction]=!0,e)},["server"===n.direction?i("v-uni-view",{staticClass:"cu-avatar radius",style:{"background-image":"url("+n.avatar+")"}}):t._e(),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"content shadow",class:{"bg-green":"self"===n.direction}},[i("v-uni-view",{staticClass:"margin-bottom-xs text-xl"},[t._v(t._s(n.text))]),n.isEnable?i("v-uni-view",{staticClass:"grid col-2"},t._l(n.options,function(a,e){return i("v-uni-view",{key:e,staticClass:"margin-bottom-sm"},[i("v-uni-button",{staticClass:"cu-btn round bg-blue margin-lr-xs text-xl",on:{click:function(i){i=t.$handleEvent(i),t.getNextQuestion(a,n)}}},[t._v(t._s(a.Content))])],1)}),1):t._e()],1)],1),"self"===n.direction?i("v-uni-view",{staticClass:"cu-avatar radius",style:{"background-image":"url("+n.avatar+")"}}):t._e()],1):i("v-uni-view",{key:a,staticClass:"cu-info",on:{click:function(n){n=t.$handleEvent(n),t.resetQuestion()}}},[i("v-uni-text",{staticClass:"cuIcon-roundclosefill text-red "}),t._v(t._s(n.text))],1)];var e})],2),i("v-uni-view",{staticClass:"cu-bar foot input",staticStyle:{display:"none"},style:[{bottom:t.InputBottom+"px"}]},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-sound text-grey"})],1),i("v-uni-input",{staticClass:"solid-bottom",attrs:{"adjust-position":!1,focus:!1,maxlength:"300","cursor-spacing":"10"},on:{focus:function(n){n=t.$handleEvent(n),t.InputFocus(n)},blur:function(n){n=t.$handleEvent(n),t.InputBlur(n)}}}),i("v-uni-button",{staticClass:"cu-btn bg-green shadow"},[t._v("发送")])],1),t.loading?i("v-uni-view",{staticClass:"cu-load load-modal"},[i("v-uni-image",{attrs:{src:"/static/logo.png",mode:"aspectFit"}}),i("v-uni-view",{staticClass:"gray-text"},[t._v("加载中...")])],1):t._e()],1)},e=[];i.d(n,"a",function(){return a}),i.d(n,"b",function(){return e})},"97da":function(t,n,i){"use strict";var a=i("e7dc"),e=i.n(a);e.a},bf0d:function(t,n,i){"use strict";i.r(n);var a=i("5c53"),e=i("df56");for(var s in e)"default"!==s&&function(t){i.d(n,t,function(){return e[t]})}(s);i("97da");var o=i("2877"),u=Object(o["a"])(e["default"],a["a"],a["b"],!1,null,"0b6437ae",null);n["default"]=u.exports},df56:function(t,n,i){"use strict";i.r(n);var a=i("fef6"),e=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(n,t,function(){return a[t]})}(s);n["default"]=e.a},e7dc:function(t,n,i){var a=i("fe78");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=i("4f06").default;e("7a717214",a,!0,{sourceMap:!1,shadowMode:!1})},fe78:function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,"uni-page-body[data-v-0b6437ae]{padding-bottom:%?100?%}#chat-panel .server .content[data-v-0b6437ae]{display:block}#chat-panel .cu-item[data-v-0b6437ae]{padding-bottom:0}",""])},fef6:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={data:function(){return{InputBottom:0,loading:!1,chatInfos:[]}},methods:{resetQuestion:function(){this.chatInfos=[],this.getNextQuestion()},getNextQuestion:function(t,n){if(t&&n){n.isEnable=!1;var i={direction:"self",avatar:"https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg",text:t.Content,options:[]};this.chatInfos.push(i)}this.loading=!0;var a=this;uni.request({url:"http://hh.ricebird.cn/api/hospital/GetNextQuestion",method:"POST",data:{id:t?t.ID:void 0},success:function(t){var n=t.data;a.loading=!1;var i={};i=n.success&&n.data.options&&n.data.options.length?{direction:"server",avatar:"https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg",text:n.data.QuestionName,isEnable:!0,options:n.data.options}:{direction:"info",text:"已经到达根节点，需要跳转到科室（暂未开发），点此重置问题。"},a.chatInfos.push(i)}})},InputFocus:function(t){this.InputBottom=t.detail.height},InputBlur:function(t){this.InputBottom=0}},mounted:function(){this.getNextQuestion(),uni.setNavigationBarTitle({title:"医院之家 - 智能导诊"})}};n.default=a}}]);